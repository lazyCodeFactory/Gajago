<%@ page language="java" contentType="text/html; charset=utf-8"
    pageEncoding="utf-8"%>
<!-- 태그는 cmmnHead.jsp 에 선언함 -->
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="/WEB-INF/views/admin/common/cmmnHead.jsp"%>
<script type="text/javascript" src="http://static.ssocio.net/admin/js/layer_pop.js"></script>
<script type="text/javascript" src="/js/smartEditor/js/HuskyEZCreator.js" charset="utf-8"></script> 
<link rel="stylesheet" type="text/css" href="http://static.ssocio.net/admin/css/owl.carousel.css"/>
<link rel="stylesheet" type="text/css" href="http://static.ssocio.net/admin/css/owl.theme.css"/>
<script type="text/javascript" src="http://static.ssocio.net/admin/js/owl.carousel.js"></script>

<script type="text/javascript">
var editor_object = [];
var arrNum ;
$(function(){
	change_tdTag('1');
	$(".thumb_del").hide(); 
	var thumb = $('.thumbnail_area');
	var thumb_img = $('.thumbnail_area').children('a').children('img');
	
	thumb.css({'width':thumb_img.width()+'px','height':thumb_img.height()+'px'});
	
	$(".inner input[type=radio]").removeAttr("checked");
	$(".inner input[type=radio]").each(function() {
		if("" == $(this).attr("id"))
		if("N" == $(this).val()){
			$(this).attr("checked", true);
		}
	});
	$("#pcDtlUseYn1").attr("checked","checked");
	$("#mbDtlUseYn2").attr("checked","checked");
	
// 	$("#INSURANCE_PRCE").attr("readonly",true);
// 	$("#SERVICIZING_PRCE").attr("readonly",true);

	
// 	$("#TEL_SEL option:eq(0)") .attr("selected", "selected");
// 	$("#MAKER_SEL option:eq(0)").attr("selected", "selected");
// 	$("#SIZE_SEL option:eq(0)").attr("selected", "selected");

	nhn.husky.EZCreator.createInIFrame({
	oAppRef: editor_object,
	elPlaceHolder: "PC_EDIT_AREA", // html editor가 들어갈 textarea id 입니다.
	sSkinURI: "/js/smartEditor/SmartEditor2Skin.html",  // html editor가 skin url 입니다.
    fCreator: "createSEditor2"
	});
	
	nhn.husky.EZCreator.createInIFrame({
		oAppRef: editor_object,
		elPlaceHolder: "MOBILE_EDIT_AREA", // html editor가 들어갈 textarea id 입니다.
		sSkinURI: "/js/smartEditor/SmartEditor2Skin.html",  // html editor가 skin url 입니다.
	    fCreator: "createSEditor2"
		});
	
	//이미지 삭제 
	$(".thumb_del").click(function(){
		// 해당 이미지 tage ID
		var img_tag_id = $(this).attr("data-imgtag-id");
		// input[type=file] ID
		var ipt_id = $(this).attr("data-ipt-id");
		$(this).hide();
		if($.browser.msie){    //IE version
			 var fileInfo = $("#"+ipt_id);
		        fileInfo.replaceWith( fileInfo = fileInfo.clone( true ) );
			 var target = $("#"+img_tag_id).get(0);
			  	 target.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(enable='true',sizingMethod='scale',src=\"\")";
		}else{    //other browser
			$(this).parent().find("a").eq(0).find("img").attr("src","");
		       $("#"+ipt_id).val("");
		}
		
		
	});
	

	
	
	$("#InspreView").click(function(){
		editor_object[0].exec("UPDATE_CONTENTS_FIELD",[]);
		editor_object[1].exec("UPDATE_CONTENTS_FIELD",[]);
		//미리보기 클릭시는 모바일에 상품이 노출되지 않아야 되기 때문에 PREVIEW_FLAG 를 Y 지정
		$("#PREVIEW_FLAG").val("Y");
		$("#MOVEFAGE_FLAG").val("PREVIEW");
		
		 var options = {
				 url : "/admin/spprod/insertSPProdREg.do",
				 success: function(data){
					 
					 if(0 < data.Val){
						 alert("정상적으로 등록 되었습니다.");
						 location.href= history.back(-1);
					 }else{
						 alert("등록을 실패하였습니다.");
						 location.href= history.back(-1);
					 }
					
// 					$("#frm").attr("action","/admin/spprod/SPProdpreView.do").submit();
				 }
		 };
	    $("#frm").ajaxSubmit(options);
	});

});
var container = {
		 numChk : function(result){
			 var numCheck = /^[0-9]*$/; //숫자만 허용
			 console.log($("#"+result).val())
			 var chkData = $("#"+result).val().trim();
			 if(chkData.indexOf(".") > -1){
				 chkData = chkData.toString().replace(".","");
				 console.log(chkData);
				 chkData = chkData.substring(0,chkData.length-4);
				 console.log(chkData);
			 }
			 return chkData;
		 }
	}
	
function sel_box_init(){
	var selected = $('.select').children('select');
	selected.each(function(index){
		var sel = $(this).find('option:selected').text();
		var sel_width = selected.eq(index).parent().width();
		$('.sel_txt').eq(index).text(sel).css({'width':(sel_width-7)+'px'});
	});
	
	var select_bx = $('.select').children('select');
	select_bx.each(function(index){
		select_bx.eq(index).change(function(){
			var selected = $(this).find('option:selected').text();
			$('.sel_txt').eq(index).text(selected);
		});
	});
}
function openPrviewPop(){
	
	var url = '/admin/spprod/SPProdpreViewPopup.do';
	var width = 1600;
	var height = 800;
	var left = screen.width;
	var top = (screen.height/2) - (height/2);
	window.open('', 'previewPopupForm','width=' + width + ', height=' + height + ', screenY=' + top + ', screenX=' + left + ',toolbar=no, menubar=no, scrollbars=yes, resizeable=no');
	$("#previewPopupForm").attr("action", url).attr("target", "previewPopupForm").submit();
	return false;
}




function insertSPProd(result){
	var PAY_SEL_flag = true;
	var SALE_SUPP_PRCE_flag = true;
	var SALE_GSUPP_PRCE_flag = true;
	var SALE_DISC_PRCE_flag = true;
	var valid_flag = true;
	var SALE_DISC_PRCE = true;
	var MOVE_AGENCY_URL_flag = true;
	var SHARING_PRCE_flag = true;
// 	var SSOCIO_FEE_PRCE_flag = true;
	var SHARING_FEE_PRCE_flag = true;
	var num_check=/^[0-9]*$/;
	var checkData = "";
	
	
		var valid_result = []; //	alert(test);
		var uniqueNames = [];
	$("#tbody_tag tr").each(function(index){
		var test = $(this).find("td:eq(0) select").val();
		valid_result.push(test);
		});
	$.each(valid_result, function(i, el){
		if($.inArray(el, uniqueNames) === -1){
			uniqueNames.push(el);
		}else{
			valid_flag = false;
			
		}
	});
		
	editor_object[0].exec("UPDATE_CONTENTS_FIELD",[]);
	editor_object[1].exec("UPDATE_CONTENTS_FIELD",[]);
	
	$("#TOTAL_LENG").val($("#tbody_tag tr").length);
		
		 if(!$("#MAKER_SEL").val().length>0){
		        alert("제조사를 선택해 주세요.");
		        $("#MAKER_SEL").focus();
		        return;
		  }
		 if(!$("#TEL_SEL").val().length>0){
		        alert("통신사를 선택해 주세요.");
		        $("#TEL_SEL").focus();
		        return;
		  }
		 if(!$("#SPPROD_PROD_NM").val().length>0){
		        alert("제품명을 입력해 주세요.");
		        $("#SPPROD_PROD_NM").focus();
		        return;
		  }
		 if(!$("#SPPROD_MODEL_NM").val().length>0){
		        alert("모델명을 입력해 주세요.");
		        $("#SPPROD_MODEL_NM").focus();
		        return;
		  }
		  if(!$("#SPPROD_COLOR").val().length>0){
		        alert("색상을 입력해 주세요.");
		        $("#SPPROD_COLOR").focus();
		        return;
		  }
		  if(!$("#SIZE_SEL").val().length>0){
		        alert("용량을 선택해 주세요.");
		        $("#SIZE_SEL").focus();
		        return;
		  }
		  if(!$("#SPPROD_SELL_PRCE").val().length>0){
		        alert("출고가 금액을  입력해주세요.");
		        $("#SPPROD_SELL_PRCE").focus();
		        return;
		  }
		  
		  if($("#SPPROD_SELL_PRCE").val().length > 8){
				alert("출고가는 최대 8자리까지 입력가능 합니다.");
				$("#SPPROD_SELL_PRCE").focus();
				return;
		  }
		  if(!num_check.test($("#SPPROD_SELL_PRCE").val())){
				alert("출고가 금액은 숫자만 입력 가능합니다. ");
				$("#SPPROD_SELL_PRCE").focus();
				return;
		  }
		  
		  if(!$("#USE_PHONE_PRE_COMPENSATE_PRCE").val().length>0){
		        alert("중고폰 선보상 금액을 입력해주세요.");
		        $("#USE_PHONE_PRE_COMPENSATE_PRCE").focus();
		        return;
		  }
		  checkData =  container.numChk("USE_PHONE_PRE_COMPENSATE_PRCE");
		  
		  if(checkData.length > 8){
				alert("중고폰 선보상 금액은 최대 8자리까지 입력가능 합니다.");
				$("#USE_PHONE_PRE_COMPENSATE_PRCE").focus();
				return;
		  }
		  if(!num_check.test(checkData)){
				alert("중고폰 선보상 금액은 숫자만 입력 가능합니다. ");
				$("#USE_PHONE_PRE_COMPENSATE_PRCE").focus();
				return;
		  }
		  
		  
		  
		  if(!$("#BUY_SALE_PRCE").val().length > 0){
				alert("구입할인 금액을 입력해 주세요.");
				$("#BUY_SALE_PRCE").focus();
				return;
		  }
		  checkData =  container.numChk("BUY_SALE_PRCE");
		  if(checkData.length > 8){
				alert("구입할인 금액은 최대 8자리까지 입력가능 합니다.");
				$("#BUY_SALE_PRCE").focus();
				return;
		  }
		
		  if(!num_check.test(checkData)){
				alert("구입할인 금액은 숫자만 입력 가능합니다. ");
				$("#BUY_SALE_PRCE").focus();
				return;
		  }
		  
		  if("" == $("#STIP_SEL").val()){
		        alert("약정기간을 선택해 주세요.");
		        $("#STIP_SEL").focus();
		        return;
		  }
		  
		/* --추가 */
			if(!$('#GUARANTEE_INSURANCE_PRCE').val().length > 0){
				alert("보증보험료를 입력해 주세요.");
				$("#GUARANTEE_INSURANCE_PRCE").focus();
				return;
			}
			if($('#GUARANTEE_INSURANCE_PRCE').val().trim().length > 8){
				alert("보증보험료 금액은 최대 8자리까지 입력가능 합니다.");
				$("#GUARANTEE_INSURANCE_PRCE").focus();
				return;
			}
			if($('#GUARANTEE_INSURANCE_PRCE').val().length > 0 && !$('#GUARANTEE_INSURANCE_PRCE').val().match(/^[0-9]+$/)){
				alert("보증 보험료 금액은 숫자만 입력 가능합니다. ");
				$("#GUARANTEE_INSURANCE_PRCE").focus();
				return;
			}
			if(!$("#RV_INSURANCE_PRCE").val().length > 0){
				alert("RV보험료를 입력해 주세요.");
				$("#RV_INSURANCE_PRCE").focus();
				return;
			}
			if($('#RV_INSURANCE_PRCE').val().trim().length > 8){
				alert("RV보험료 금액은 최대 8자리까지 입력가능 합니다.");
				$("#RV_INSURANCE_PRCE").focus();
				return;
			}
			if($('#RV_INSURANCE_PRCE').val().length > 0 && !$('#RV_INSURANCE_PRCE').val().match(/^[0-9]+$/)){
				alert("RV보험료 금액은 숫자만 입력 가능합니다. ");
				$("#RV_INSURANCE_PRCE").focus();
				return;
			}
			if(!$("#INSURANCE_PRCE").val().length > 0){
				alert("보험료를 입력해 주세요.");
				$("#INSURANCE_PRCE").focus();
				return;
			}
			if($('#INSURANCE_PRCE').val().trim().length > 8){
				alert("보험료 금액은 최대 8자리까지 입력가능 합니다.");
				$("#INSURANCE_PRCE").focus();
				return;
			}
			if($('#INSURANCE_PRCE').val().length > 0 && !$('#INSURANCE_PRCE').val().match(/^[0-9]+$/)){
				alert("보험료 금액은 숫자만 입력 가능합니다. ");
				$("#INSURANCE_PRCE").focus();
				return;
			}
			
			if(!$("#SERVICIZING_PRCE").val().trim().length > 0){
				alert("서비사이징을 입력해 주세요.");
				$("#SERVICIZING_PRCE").focus();
				return;
			}
			if($("#SERVICIZING_PRCE").val().trim().length > 8){
				alert("서비사이징 금액은 최대 8자리까지 입력가능 합니다.");
				$("#SERVICIZING_PRCE").focus();
				return;
			}
			if($('#SERVICIZING_PRCE').val().length > 0 && !$('#SERVICIZING_PRCE').val().match(/^[0-9]+$/)){
				alert("서비사이징 금액은 숫자만 입력 가능합니다.");
				$("#SERVICIZING_PRCE").focus();
				return;
			}
		
			
			if(!$("#SHARING_FEE_PRCE_PERCENT").val().length > 0){
				alert("셰어링 수수료를 입력해 주세요.");
				$("#SHARING_FEE_PRCE_PERCENT").focus();
				return;
			}
			
			if(!num_check.test($("#SHARING_FEE_PRCE_PERCENT").val().toString().replace(".",""))){
				alert("셰어링 수수료는 숫자만 입력 가능합니다.");
				$("#SHARING_FEE_PRCE_PERCENT").focus();
				return;
			}
// 			if(!$("#SSOCIO_FEE_PRCE_PERCENT").val().length > 0){
// 				alert("쏘시오 수수료를 입력해 주세요.");
// 				$("#SSOCIO_FEE_PRCE_PERCENT").focus();
// 				return;
// 			}
			var tempdata = "";
		  $("#tbody_tag tr").each(function(index){
				
//				var PAY_SEL = $(this).find("td:eq(0) select").val();
//				var STIP_SEL = $(this).find("td:eq(1) select").val();
//				var SALE_SUPP_PRCE = $(this).find("td:eq(2) input").eq(0).val();
//				var SALE_GSUPP_PRCE= $(this).find("td:eq(3) input").eq(0).val();
//				var SALE_DISC_PRCE = $(this).find("td:eq(4) input").eq(0).val();
			  
			  if("" == $("#PAY_SEL"+index).val()){
				 $("#PAY_SEL"+index).focus();
				  PAY_SEL_flag = false;
				  return;
// 				 alert("요금제를 선택해 주세요.");
			  }
			  if(""==$("#SALE_SUPP_PRCE"+index).val() || !num_check.test($("#SALE_SUPP_PRCE"+index).val().toString().replace(".","")) || container.numChk("SALE_SUPP_PRCE"+index).length > 8){
				  $("#SALE_SUPP_PRCE"+index).focus();
				  SALE_SUPP_PRCE_flag = false;
				  return;
			  }
			  if("" == $("#SALE_GSUPP_PRCE"+index).val() || !num_check.test($("#SALE_GSUPP_PRCE"+index).val().toString().replace(".",""))|| container.numChk("SALE_GSUPP_PRCE"+index).length > 8){
				  $("#SALE_GSUPP_PRCE"+index).focus();
				  SALE_GSUPP_PRCE_flag = false;
				  return;
			  }
			  if("" == $("#SALE_DISC_PRCE"+index).val() || !num_check.test($("#SALE_DISC_PRCE"+index).val()) || $("#SALE_DISC_PRCE"+index).val().length > 8){
				  $("#SALE_DISC_PRCE"+index).focus();
				  SALE_DISC_PRCE_flag = false;
				  return;
			  }
			  if("" == $("#MOVE_AGENCY_URL"+index).val().trim()){
				  $("#MOVE_AGENCY_URL"+index).focus();
				  MOVE_AGENCY_URL_flag = false;
				  return;
			  }
// 			  if("" == $("#SALE_DISC_PRCE"+index).val()){
// 				  SALE_DISC_PRCE_flag = false;
// 			  }
			  var test=  parseInt($("#SHARING_PRCE"+index).val());
// 			  var SSOCIO_FEE_PRCE=  parseInt($("#SSOCIO_FEE_PRCE"+index).val());
			  var SHARING_FEE_PRCE=  parseInt($("#SHARING_FEE_PRCE"+index).val());
			  if(!(test > 0)){
				  SHARING_PRCE_flag = false;
			  }
// 			  if( 0 > SSOCIO_FEE_PRCE){
// 				  SSOCIO_FEE_PRCE_flag = false;
// 			  }
			  if(SHARING_FEE_PRCE < 0){
				  SHARING_FEE_PRCE_flag = false;
			  }
			  if(index == 0){
				  tempdata = $("#PAY_SEL"+index).val()
			  }else{
				  if(tempdata == $("#PAY_SEL"+index).val());
			  }
			  
			  
		});
		if(!PAY_SEL_flag){
			alert("요금제를 선택해주세요");
			return;
		}
		if(!valid_flag){
			alert("요금제는 중복으로 설정 할 수 없습니다.");
			return;
		}
		if(!SALE_SUPP_PRCE_flag){
			   alert("판매장려금을 확인해 주세요.");
			return;
		}
		if(!SALE_GSUPP_PRCE_flag){
			 alert("공시지원금을 확인해 주세요.");
			return;
		}
		if(!SALE_DISC_PRCE_flag){
			 alert("추가할인을 확인해 주세요.");
			return;
		}
		
		if(!MOVE_AGENCY_URL_flag){
			 alert("이통사 가입신청 URL을 확인해 주세요.");
			return;
		}
		if(!SHARING_FEE_PRCE_flag){
			alert("셰어링 수수료금액을 확인해 주세요.");
			return;
		}
		/* -- 추가 --  || !$('#SHARING_PRCE0').val().match("/^[0-9]+$/") */
		if(!SHARING_PRCE_flag){
			alert("월 셰어링 금액을 확인해 주세요.");
			return;
		}
		
		if(!SHARING_FEE_PRCE_flag){
			 alert("셰어링 수수료를 확인해 주세요.");
			return;
		}
		  if(!$("#SEARCH_KEWORD").val().length>0){
		        alert("검색 키워드를  입력해  주세요.");
		        $("#SEARCH_KEWORD").focus();
		        return;
		  }
// 		if(!SSOCIO_FEE_PRCE_flag){
// 			 alert("쏘시오 수수료를 확인해 주세요.");
// 			return;
// 		}
		
// 		if(!SALE_DISC_PRCE_flag){
// 			alert("추가 할인을 입력해주세요");
// 			return;
// 		}
//		  if(!$("#SHARING_PRICE").val().length>0){
//		        alert("셰어링 금액을 입력해 주세요.");
//		        $("#SHARING_PRICE").focus();
//		        return false;
//		  }
		  if(!$("#PRE_VIEW_11").attr("src").length > 0){
		        alert("PC 상품리스트 이미지를 선택해 주세요.");
		        change_tdTag('1');
		        $("#SP_PROD_IMG_GB_CD_11").focus();
		        $("#SP_PROD_IMG_GB_CD_11").trigger( "click" );
		        return;
		  }
		  if(!$("#PRE_VIEW_01").attr("src").length>0){
			 	 alert("모바일 상품리스트 이미지를 선택해 주세요.");
		        change_tdTag('1');
		        $("#SP_PROD_IMG_GB_CD_01").focus();
		        $("#SP_PROD_IMG_GB_CD_01").trigger( "click" );
		        return;
		  }
		  if(!$("#PRE_VIEW_12").attr("src").length>0){
		        alert("PC 메인상품 이미지를 선택해 주세요.");
		        change_tdTag('2');
		        $("#SP_PROD_IMG_GB_CD_12").focus();
		        $("#SP_PROD_IMG_GB_CD_12").trigger( "click" );
		        return;
		  }
		  if(!$("#PRE_VIEW_02").attr("src").length>0){
		        alert("모바일 메인상품 이미지를 선택해 주세요.");
		        change_tdTag('2');
		        $("#SP_PROD_IMG_GB_CD_02").focus();
		        $("#SP_PROD_IMG_GB_CD_02").trigger( "click" );
		        return;
		  }
// 		  if(!$("#PRE_VIEW_13").attr("src").length>0){
// 		        alert("PC 상품상세 이미지를 선택해 주세요.");
// 		        return false;
// 		  }
// 		  if(!$("#PRE_VIEW_03").attr("src").length>0){
// 		        alert("모바일 상품상세 이미지를 선택해 주세요.");
// 		        return false;
// 		  }
	// pc상세설명 사용여부
	var pcDtlUseYn = $('input[name=pcDtlUseYn]:checked').val();
	// mobile 상세설명 사용여부
	var mbDtlUseYn = $('input[name=mbDtlUseYn]:checked').val();
	if(pcDtlUseYn == "Y"){		
	  var prodDtl = $('#PC_EDIT_AREA').val().replace(/<p>&nbsp;<\/p>/gi,'');
	  console.log(prodDtl);
	  if(prodDtl == ''){
		  alert("PC용 상품상세를 입력해주세요.");
		  window.scrollTo(0, $('#PC_EDIT_AREA').offset().top-200);
		  editor_object.getById["PC_EDIT_AREA"].exec("FOCUS"); 
	    return;
	  }
	}
	//상품상세(Mobile)
	if(mbDtlUseYn == "Y"){
		var prodMbDtl = $('#MOBILE_EDIT_AREA').val().replace(/<p>&nbsp;<\/p>/gi,'');
		if(prodMbDtl == ''){
			alert("Mobile용 상품상세를 입력해주세요.");
			editor_object.getById["MOBILE_EDIT_AREA"].exec("FOCUS"); 
			return true;
		}
	}
	  //상품상세(Mobile)
// 	  var prodDtl = $('#MOBILE_EDIT_AREA').val().replace(/<p>&nbsp;<\/p>/gi,'');
// 	  if(prodDtl == ''){
// 		  alert("Mobile용 상품상세를 입력해주세요.");
// 	    $("#MOBILE_EDIT_AREA").focus();
// 	    return;
// 	  }
	if(pcDtlUseYn == "N" && mbDtlUseYn == "N"){
		alert("상품 상세설명이 들어가야 합니다.");
		return true;
	}
	  if(!SHARING_PRCE_flag){
		  alert("입력한 금액을 확인해 주세요.");
		  return;
	  }
	
	if($("#PROD_DESC_OPT_CHK").is(":checked")){
		jQuery("#PROD_DESC_OPT").val("Y");
	}else{
		jQuery("#PROD_DESC_OPT").val("N");
	}
		$("#PREVIEW_FLAG").val("N");

	

	if(confirm("등록하시겠습니까?")){
		 var options = {
				 url : "/admin/spprod/insertSPProdREg.do",
				 success: function(data){
					 if(0 < data.Val){
						 alert("정상적으로 등록 되었습니다.");
						 $("#movefrm").attr("action","/admin/spprod/selectListSPProd.do").submit();
					 }else{
						 alert("등록을 실패하였습니다.");
					 }
				 }
		 };
	    $("#frm").ajaxSubmit(options);
	}
	
}
function change_tdTag(result){
	$('#test2>td').removeClass('active');
	$("#img_td_"+result).addClass('active');
	jQuery("#test > td").each(function(){
		if(jQuery(this).attr("class") != "IMG_GROUP_" + result){
		
				jQuery(this).hide();
		}else{
			jQuery(this).show();
		}
	});
	
}
function preView2(obj, targetId, targetPath){
	
	  var target = $("#" + targetId).get(0);
	  if(window.FileReader){
// 		  console.log(obj)
// 		  console.log(targetId)
	    if(obj.files && obj.files[0]){
	      // 2015-04-03 김명진 파일 확장차 체크 추가 Start
	      var fileExp = $(obj).val().split(".");
	      fileExp = $.trim(fileExp[fileExp.length-1].toLowerCase()); 
	      if(fileExp != "jpg" && fileExp != "png" && fileExp != "jpeg"){
	        alert("JPG, PNG 파일 형식만 업로드 가능합니다.");
	        var fileInfo =$(obj);
	        fileInfo.replaceWith( fileInfo = fileInfo.clone( true ) );
	        return;
	      }
	      // 2015-04-03 김명진 파일 확장차 체크 추가 End
	      
	      // 2015-04-03 김명진 용량체크 추가 Start  
	      var Mega = 1*1024*1024;//Mbyte
	      var maxSize = 5;//5M
	      var fileSize = obj.files[0].size;
	      
	      if(fileSize > maxSize * Mega){
	        alert("이미지 용량이"+maxSize+"MB를 초과하여 등록할 수 없습니다.");
	        var fileInfo =$(obj);
	        fileInfo.replaceWith( fileInfo = fileInfo.clone( true ) );
	        return false;
	      }
	      // 2015-04-03 김명진 용량체크 추가 End

	      var reader = new FileReader();
	      reader.onload = function(e){
	        $("#" + targetId).attr("src", e.target.result);
	      }
	      reader.readAsDataURL(obj.files[0]);
	    }
	    $("#" + targetPath).val(obj.value);
	    $("."+targetId).show();
	  }else if(target.filters){
	    // 익스플로어일 경우
	    var inputFile = $(obj).get(0);
	    inputFile.select();
	    inputFile.blur();
	    
	    var imgSrc = document.selection.createRange().text;
	    var image = new Image();
	    image.dysrc = imgSrc;
	    
	    // 2015-04-03 김명진 파일 확장차 체크 추가 Start
	    var fileExp = imgSrc.split(".");
	    fileExp = $.trim(fileExp[fileExp.length-1].toLowerCase()); 
	    if(fileExp != "jpg" && fileExp != "png"){
	      alert("JPG, PNG 파일 형식만 업로드 가능합니다.");
	      var fileInfo =$(obj);
	      fileInfo.replaceWith( fileInfo = fileInfo.clone( true ) );
	      return;
	    }
	    // 2015-04-03 김명진 파일 확장차 체크 추가 End
	    
	    // 2015-04-03 김명진 용량체크 추가 Start  
	    var Mega = 1*1024*1024;//Mbyte
	    var maxSize = 5;//5M
	    var fileSize = image.fileSize;
	    
	    if(fileSize > maxSize * Mega){
	      alert("이미지 용량이"+maxSize+"MB를 초과하여 등록할 수 없습니다.");
	      var fileInfo =$(obj);
	      fileInfo.replaceWith( fileInfo = fileInfo.clone( true ) );
	      return;
	    }
	    // 2015-04-03 김명진 용량체크 추가 End
	    target.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(enable='true',sizingMethod='scale',src=\""+imgSrc+"\")";
	
	    /* 
	     * 2015-06-12 김명진 
	     * IE 9버전에서 이미지 미리보기는 되지만 해당 이미지 백그라운드에
	     * IMG 태그의 여운이 남아 있는 관계로 로컬 파일에 있는 투명 이미지를 덮어 씌워 처리.
	     */
	    imgSrc = "http://static.ssocio.net/admin/images/empty.png";
	    $("#" + targetId).attr("src", imgSrc);//이미지 미리보기 경로 수정
	    $("#" + targetPath).val(obj.value);
	    $("."+targetId).show();
	  }
	}


function radioChk(parentTag,obj){
	$("#"+parentTag+" input").removeAttr("checked");
		$(obj).attr("checked", true);
		
		
	if("Servicizing_TD" == parentTag || "Insurance_TD" == parentTag){
		if("Y" == $(obj).val()){
		$(obj).parent().parent().find("input[type=text]").attr("readonly",false);
		}else{
			$(obj).parent().find("input[type=text]").val("");
			$(obj).parent().find("input[type=text]").attr("readonly",true)	;
			getSharingPrce();
		}
	}
	
}

function Calculation(obj){
	var SPPROD_SELL_PRCE = $("#SPPROD_SELL_PRCE").val();
	var SaleResult = "";
	//퍼센트를 입력했을 경우
	if($(obj).attr("id").indexOf("PERCENT") > -1){
		SaleResult = (SPPROD_SELL_PRCE * $(obj).val() /100);
		console.log("입력한 퍼센트의 대한 금액 :  " + SaleResult);
		if("" != $(obj).val()){
			$(obj).parent().find("input").eq(0).val(floor(SaleResult,4));
// 			numberWithCommaObj2($(obj).parent().find("input").eq(0));
		}else{
			$(obj).parent().find("input").eq(0).val("");
		}
	//출고가를 입력했을 경우 	
	}else if($(obj).attr("id").indexOf("SPPROD_SELL_PRCE") > -1){
		//중고폰 선보상 
		if($("#USE_PHONE_PRE_COMPENSATE_PRCE").val().length > 1){
			console.log("SPPROD_SELL_PRCE : " + SPPROD_SELL_PRCE);
			console.log("USE_PHONE_PRE_COMPENSATE_PRCE : " + $("#USE_PHONE_PRE_COMPENSATE_PRCE").val());

			SaleResult = ($("#USE_PHONE_PRE_COMPENSATE_PRCE").val() / SPPROD_SELL_PRCE *100).toFixed(6);
			$("#USE_PHONE_PRE_COMPENSATE_PRCE_PERCENT").val(SaleResult);
// 			numberWithCommaObj2("#REMAIN_AMOUNT_PRCE");
		}
		// 구입할인 		
		if($("#BUY_SALE_PRCE").val().length > 1){
			console.log("SPPROD_SELL_PRCE : " + SPPROD_SELL_PRCE)
			console.log("BUY_SALE_PRCE : " + $("#BUY_SALE_PRCE").val());

			SaleResult = ($("#BUY_SALE_PRCE").val()/  SPPROD_SELL_PRCE *100).toFixed(6);
			$("#BUY_SALE_PRCE_PERCENT").val(SaleResult);
		}

// 		if($("#MANUFACTURER_PRCE").val().length > 1){

// 			SaleResult = ($("#MANUFACTURER_PRCE").val().replace(/,/gi, "")/  SPPROD_SELL_PRCE *100).toFixed(6);
// 			numberWithCommaObj2("#MANUFACTURER_PRCE");
// 			$("#MANUFACTURER_PERCENT").val(SaleResult);
// 		}
		  $("#tbody_tag tr").each(function(index){
			  if($("#SALE_SUPP_PRCE"+index).val().length > 1){
					SaleResult = ($("#SALE_SUPP_PRCE"+index).val().replace(/,/gi, "")/  SPPROD_SELL_PRCE *100).toFixed(4);
					$("#SALE_SUPP_PRCE_PERCENT"+index).val(SaleResult);
			  }
			  if($("#SALE_SUPP_PRCE"+index).val().length > 1){

					SaleResult = ($("#SALE_GSUPP_PRCE"+index).val().replace(/,/gi, "")/  SPPROD_SELL_PRCE *100).toFixed(4);
					$("#SALE_GSUPP_PRCE_PERCENT"+index).val(SaleResult);
			  }
		});
		
	//일반금액 입력했을경우
	}else{
		var inputId = $(obj).attr("id");
// 		console.log("입력한 id 값 :" + inputId);
		SaleResult =  ($(obj).val() /  SPPROD_SELL_PRCE *100).toFixed(6);
// 		console.log("###############################")
// 		console.log("일반금액 할인율 : " +SaleResult);
// 		console.log("###############################")
		if("" != $(obj).val()){
			$(obj).parent().find("input").eq(1).val(SaleResult);
		}else{
		$(obj).parent().find("input").eq(1).val("");
		}
	}
	
	getSharingPrce();
	
}

function getSharingPrce(){
	arrNum = new Array();
// 	중고폰 선보상 : USE_PHONE_PRE_COMPENSATE_PRCE
// 	구입할인 : BUY_SALE_PRCE
// 	보험료 : Insurance_prce
// 	서비사이징 : Servicizing_prce
//  RV 보험료 : RV_INSURANCE_PRCE
//  보증보험료 : GUARANTEE_INSURANCE_PRCE
//	셰어링 수수료 : SHARING_FEE_PRCE
//  쏘시오 수수료 : SSOCIO_FEE_PRCE
// 셰어링 비용 = 실구매가-판매장려금-중고폰선보상-중고폰매입가 +보증보험료+RV보험료+보험료+서비사이징+포장및 배송비 
	var sharingPrce = 0;
	var SPPROD_SELL_PRCE = $("#SPPROD_SELL_PRCE").val();
	var USE_PHONE_PRE_COMPENSATE_PRCE = $("#USE_PHONE_PRE_COMPENSATE_PRCE").val();
	var BUY_SALE_PRCE = $("#BUY_SALE_PRCE").val();
	
	var RV_INSURANCE_PRCE = $("#RV_INSURANCE_PRCE").val();
	var GUARANTEE_INSURANCE_PRCE = $("#GUARANTEE_INSURANCE_PRCE").val();
	var Insurance_prce = $("#INSURANCE_PRCE").val();
	var Servicizing_prce = $("#SERVICIZING_PRCE").val();
	
	
	var SHARING_FEE_PRCE = 0;
	var SHARING_FEE_PRCE_PERCENT = $("#SHARING_FEE_PRCE_PERCENT").val();
	var SSOCIO_FEE_PRCE = 0; 
	var SSOCIO_FEE_PRCE_PERCENT =  $("#SSOCIO_FEE_PRCE_PERCENT").val();
	
	
	if(""==RV_INSURANCE_PRCE){
		RV_INSURANCE_PRCE = 0;
	}else{
		RV_INSURANCE_PRCE = parseInt(RV_INSURANCE_PRCE);
	}

	if(""==GUARANTEE_INSURANCE_PRCE){
		GUARANTEE_INSURANCE_PRCE = 0;
	}else{
		GUARANTEE_INSURANCE_PRCE = parseInt(GUARANTEE_INSURANCE_PRCE);
	}

	if(""==Servicizing_prce){
		Servicizing_prce = 0;
	}else{
		Servicizing_prce = parseInt(Servicizing_prce);
	}
	
	if(""==Insurance_prce){
		Insurance_prce = 0;
	}else{
		Insurance_prce = parseInt(Insurance_prce);
	}
	
	
	
	var period ="";
	var realsharingPrce ="";
	$("#tbody_tag tr").each(function(index){
		
		period = parseInt($("#STIP_SEL option:selected").html());
		console.log(period)
		//숫자 아니면
		if(isNaN(period)){
		console.log("약정기간 선택 X");
		console.log("SPPROD_SELL_PRCE : " + SPPROD_SELL_PRCE);
		console.log("중고폰선보상 : " + USE_PHONE_PRE_COMPENSATE_PRCE);
		console.log("구입할인 : " + BUY_SALE_PRCE);
		console.log("판매 장려금 : " +  $(this).find("td:eq(1) input").eq(2).val());
		
		SHARING_FEE_PRCE =  (SPPROD_SELL_PRCE - USE_PHONE_PRE_COMPENSATE_PRCE - BUY_SALE_PRCE - $(this).find("td:eq(1) input").eq(0).val()- $(this).find("td:eq(2) input").eq(0).val()-$(this).find("td:eq(3) input").eq(0).val()+ Insurance_prce + Servicizing_prce + RV_INSURANCE_PRCE + GUARANTEE_INSURANCE_PRCE) * SHARING_FEE_PRCE_PERCENT /100;
// 		SSOCIO_FEE_PRCE =  (SPPROD_SELL_PRCE - USE_PHONE_PRE_COMPENSATE_PRCE - BUY_SALE_PRCE - $(this).find("td:eq(1) input").eq(0).val()- $(this).find("td:eq(2) input").eq(0).val()-$(this).find("td:eq(3) input").eq(0).val()+ Insurance_prce + Servicizing_prce + RV_INSURANCE_PRCE + GUARANTEE_INSURANCE_PRCE) * SSOCIO_FEE_PRCE_PERCENT /100;
		sharingPrce  =	SPPROD_SELL_PRCE - USE_PHONE_PRE_COMPENSATE_PRCE - BUY_SALE_PRCE - $(this).find("td:eq(1) input").eq(0).val()- $(this).find("td:eq(2) input").eq(0).val()-$(this).find("td:eq(3) input").eq(0).val()+ Insurance_prce + Servicizing_prce + RV_INSURANCE_PRCE + GUARANTEE_INSURANCE_PRCE; 
		realsharingPrce  =  sharingPrce + SHARING_FEE_PRCE
		realsharingPrce = floor(realsharingPrce,0);
		}else{
		console.log("약정기간 선택 O");
	
		console.log("셰어링 수수료 : " + SHARING_FEE_PRCE);
		console.log("SPPROD_SELL_PRCE : " + SPPROD_SELL_PRCE);
		console.log("USE_PHONE_PRE_COMPENSATE_PRCE : " + USE_PHONE_PRE_COMPENSATE_PRCE);
		console.log("BUY_SALE_PRCE : " + BUY_SALE_PRCE);
		console.log("판매장려금 : " + $(this).find("td:eq(1)").html());
		console.log("공시지원금 : " + $(this).find("td:eq(2) input").eq(0).val());
		console.log("추가 할인 : " + $(this).find("td:eq(3) input").eq(0).val());
		SHARING_FEE_PRCE =  (SPPROD_SELL_PRCE - USE_PHONE_PRE_COMPENSATE_PRCE - BUY_SALE_PRCE - $(this).find("td:eq(1) input").eq(0).val()- $(this).find("td:eq(2) input").eq(0).val()-$(this).find("td:eq(3) input").eq(0).val()+ Insurance_prce + Servicizing_prce + RV_INSURANCE_PRCE + GUARANTEE_INSURANCE_PRCE) * SHARING_FEE_PRCE_PERCENT /100;
// 		SSOCIO_FEE_PRCE =  (SPPROD_SELL_PRCE - USE_PHONE_PRE_COMPENSATE_PRCE - BUY_SALE_PRCE - $(this).find("td:eq(1) input").eq(0).val()- $(this).find("td:eq(2) input").eq(0).val()-$(this).find("td:eq(3) input").eq(0).val()+ Insurance_prce + Servicizing_prce + RV_INSURANCE_PRCE + GUARANTEE_INSURANCE_PRCE) * SSOCIO_FEE_PRCE_PERCENT /100;
		sharingPrce  =	SPPROD_SELL_PRCE - USE_PHONE_PRE_COMPENSATE_PRCE - BUY_SALE_PRCE - $(this).find("td:eq(1) input").eq(0).val()- $(this).find("td:eq(2) input").eq(0).val()-$(this).find("td:eq(3) input").eq(0).val()+ Insurance_prce + Servicizing_prce + RV_INSURANCE_PRCE + GUARANTEE_INSURANCE_PRCE; 
		console.log("셰어링 가격 : " + sharingPrce);
		realsharingPrce  =  parseInt( (sharingPrce + SHARING_FEE_PRCE) / period );
		
		}
		arrNum.push(realsharingPrce);
		realsharingPrce = realsharingPrce.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");
		$(this).find("td:eq(5) input").val(floor(SHARING_FEE_PRCE,4));
// 		$(this).find("td:eq(6) input").val(floor(SSOCIO_FEE_PRCE,4));
		$(this).find("td:eq(6) input").val(realsharingPrce);
		
	});
	
}

function addTag(){
	
	$("#tbody_tag tr:last").after($("#tbody_tag tr:last").clone());
	$("#tbody_tag tr:last").prev().find("td").eq(7).find("a").eq(0).css("display","");
	$("#tbody_tag tr:last").prev().find("td").eq(7).find("a").eq(1).css("display","none");

	sortInputBoxArray("add");
	sel_box_init();

}
function sortInputBoxArray(gubun){
	var total = $("#tbody_tag tr").length;
	$("#tbody_tag tr").each(function(index){
		console.log(index)
		
		$(this).attr("id",""+index+"");
		$(this).find("td:eq(0) select").attr("name","PAY_SEL"+index);
		$(this).find("td:eq(0) select").attr("id","PAY_SEL"+index);
		
		$(this).find("td:eq(1) input").eq(0).attr("name","SALE_SUPP_PRCE"+index);
		$(this).find("td:eq(1) input").eq(0).attr("id","SALE_SUPP_PRCE"+index);
		$(this).find("td:eq(1) input").eq(1).attr("name","SALE_SUPP_PRCE_PERCENT"+index);
		$(this).find("td:eq(1) input").eq(1).attr("id","SALE_SUPP_PRCE_PERCENT"+index);
		
		$(this).find("td:eq(2) input").eq(0).attr("name","SALE_GSUPP_PRCE"+index);
		$(this).find("td:eq(2) input").eq(0).attr("id","SALE_GSUPP_PRCE"+index);
		$(this).find("td:eq(2) input").eq(1).attr("name","SALE_GSUPP_PRCE_PERCENT"+index);
		$(this).find("td:eq(2) input").eq(1).attr("id","SALE_GSUPP_PRCE_PERCENT"+index);
		
		$(this).find("td:eq(3) input").eq(0).attr("name","SALE_DISC_PRCE"+index);
		$(this).find("td:eq(3) input").eq(0).attr("id","SALE_DISC_PRCE"+index);
		
		$(this).find("td:eq(4) input").eq(0).attr("name","MOVE_AGENCY_URL"+index);
		$(this).find("td:eq(4) input").eq(0).attr("id","MOVE_AGENCY_URL"+index);
		
		$(this).find("td:eq(5) input").attr("name","SHARING_FEE_PRCE"+index);
		$(this).find("td:eq(5) input").attr("id","SHARING_FEE_PRCE"+index);
		
// 		$(this).find("td:eq(6) input").attr("name","SSOCIO_FEE_PRCE"+index);
// 		$(this).find("td:eq(6) input").attr("id","SSOCIO_FEE_PRCE"+index);
		
		$(this).find("td:eq(6) input").attr("name","SHARING_PRCE"+index);
		$(this).find("td:eq(6) input").attr("id","SHARING_PRCE"+index);
		
		$(this).find("td:eq(7) a").eq(0).attr("id","delbtn"+index);
		$(this).find("td:eq(7) a").eq(1).attr("id","addbtn"+index);
		if("add" == gubun){
			if(index == total-1){
				$(this).find("td select option").attr("selected", false);
				$(this).find("td input[type=text]").val("");
// 				$(this).find("td:eq(5) input").eq(5).html("원");
			}else{
				$(this).find("td:eq(7) a").eq(1).hide();
			}
		}
	
	});
}
function delTag(obj){
	var nowId = $(obj).attr("id");
	nowId = nowId.substring(6);
	if(1 < $("#tbody_tag tr").length){
		$("#tbody_tag tr:last").prev().find("td").eq(7).find("a").eq(0).css("display","");
		if(nowId == $("#tbody_tag tr").length-1){
			$("#tbody_tag tr:last").prev().find("td").eq(7).find("a").eq(1).css("display","");
		}else{
			$("#tbody_tag tr:last").find("td").eq(7).find("a").eq(1).css("display","");
		}
		$(obj).parent().parent().remove();
		sortInputBoxArray('del')
	}
}

function telSelfnC(obj){
	var Str = "";
	Str+="<option value=\"\">선택</option>";
	$.ajax({
		type: 'post'
		, async: true
		, url: '/admin/spprod/selectListPayinfo.do'
		, dataType:'json'
		, data:  {"TEL_SEL":$("#TEL_SEL").val()}
		, success: function(data) {
			$(".PAY_SEL").html("");
			$.each(data.list, function(key,val) {
			Str+="<option value=\""+val.PAYPLAN_CODE+"\">"+val.PAYPLAN_NM+"</option>";
				
			})
			console.log(data.list.PAYPLAN_CODE);
			console.log(Str)
			$(".PAY_SEL").html(Str);
			sel_box_init();
		}
		, error: function(data, status, err) {
			alert('서버와의 통신이 실패했습니다.');
		}
	});
}

function addThousandSeparatorCommas(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}
function goBack(){
	if(confirm("등록된 내용이 있습니다.\n페이지 이동시 등록된 내용은 저장 되지 않습니다.\n이 페이지에서 나가시겠습니까?")){
	location.href= history.back(-1);
	}
}

	function numberWithCommas2(str){
		var test = str.toString().replace(",","");
return test.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");
}
function numberWithCommaObj2(obj){
	$(obj).val(numberWithCommas2($(obj).val()));
return;
}

function numberWithperCent(obj){
	$(obj).val(numberWithperCentCooma($(obj).val()));
	return;
}
function numberWithperCentCooma(str){
	var test  = parseInt(str).toFixed(4)
	alert(test)
	return test;
}
function floor(n,pos){
	var digits = Math.pow(10,pos);
	var num = Math.floor(n * digits) / digits;
	
	return num.toFixed(pos);
}
function prceChek(obj,guBun){
	
	 var chkData = $(obj).val().trim();
	 var pattern = /^[0-9+]*$/;
	 var pattern2 = /^[0-9.]*$/;
	 if('noFloat' == guBun){
		 
		 if(!pattern.test($(obj).val())){
				$(obj).val($(obj).val().replace(/[^0-9]/ig, ""));
		 }
		 if(chkData.length > 8){
			 alert("금액은 최대 8자리까지 입력 가능합니다.");
			 $(obj).val(chkData.slice(0, -1));
			 return;
		 }
	 }else if("ss" == guBun){
		 var data = 0;
		 var data2 = 0;
		 console.log($(obj).val());
		 if(!pattern2.test($(obj).val())){
				$(obj).val($(obj).val().replace(pattern2, ""));
		 }
		 if(chkData.indexOf(".") > -1){
			 data = chkData.split( '.' )[0];
			 data2 = chkData.split( '.' )[1];
			 if(data.length > 3){
				 chkData = data.slice(0, -1)+"."+data2;
				 $(obj).val(chkData);
				 return;
			 }
		 }else{
			 if(!pattern.test($(obj).val())){
					$(obj).val($(obj).val().replace(/[^0-9]/ig, ""));
			 }	 
			 if(chkData.length > 3){
				 $(obj).val(chkData.slice(0, -1));
				 return;
			 }
		 }
		 
		 
	 }else{
		 //현재 값이 소수점이 포함되어 있으면.
		 if(chkData.indexOf(".") > -1){
			 var data = 0;
			 var data2 = 0;
			 if(!pattern2.test($(obj).val())){
				 console.log("문자열있음")
					$(obj).val($(obj).val().replace(/[^0-9^.]/ig, ""));
				 	console.log($(obj).val());
			 }	 
			 data = chkData.split( '.' )[0];
			 data2 = chkData.split( '.' )[1];
			 if(data.length > 8){
				 alert("금액은 최대 8자리까지 입력 가능합니다.");
				 chkData = data.slice(0, -1)+"."+data2;
				 $(obj).val(chkData);
				 return;
			 }
		//현재 값이 소수점이 포함되어 있지 않으면.	 
		 }else{
			 if(!pattern.test($(obj).val())){
					$(obj).val($(obj).val().replace(/[^0-9]/ig, ""));
			 }	 
			 if(chkData.length > 8){
				 alert("금액은 최대 8자리까지 입력 가능합니다.");
				 $(obj).val(chkData.slice(0, -1));
				 return;
			 }
		 } 
	 }
}
function preViewImg(guBun,imgTagId){
	if("" != $("#"+imgTagId).attr("src")){
		$("#PRW_IMG").val(guBun);
		 var options = {
				 url : "/admin/spprod/insertSPPrevImg.do",
				 success: function(data){
					var str = data.val+"?resize=640px:*&crop=640:640;*,*";
					$("#previewImgtag").attr("src",str);
					layer_popup3('.w_preview');
					console.log(str)
				 }
		 };
	    $("#frm").ajaxSubmit(options);
	}else{
		alert("이미지가 없습니다.");
		return;
	}
}
function preViewfnc(){
	editor_object[0].exec("UPDATE_CONTENTS_FIELD",[]);
	editor_object[1].exec("UPDATE_CONTENTS_FIELD",[]);
	var sharPrce = "";
	$("#m_preview_prodNm_1").text($("#SPPROD_PROD_NM").val())
	$("#m_preview_prodNm_2").text($("#SPPROD_PROD_NM").val())
	
	var preViewPeriod = $("#STIP_SEL option:selected").html()
	if("선택" == preViewPeriod){
		$("#m_preview_period_1").text("/ 0개월");
		$("#m_preview_period_2").text("/ 0개월");
	}else{
		$("#m_preview_period_1").text("/ "+preViewPeriod);
		$("#m_preview_period_2").text("/ "+preViewPeriod);
	}
	if( typeof arrNum == "undefined" ){
		$("#m_preview_prce_1").text("0원")
		$("#m_preview_prce_2").text("0원")
	}else{
		var minPrce = Math.min.apply(null,arrNum);
		minPrce = minPrce.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");
		$("#m_preview_prce_1").text(minPrce+"원")
		$("#m_preview_prce_2").text(minPrce+"원")
	}
	var pcDtlUseYn = $('input[name=pcDtlUseYn]:checked').val();
	var mbDtlUseYn = $('input[name=mbDtlUseYn]:checked').val();
	
	if(pcDtlUseYn == "Y"){		
	  var prodDtl = $('#PC_EDIT_AREA').val().replace(/<p>&nbsp;<\/p>/gi,'');
	  $("#m_preview_dtl").html(prodDtl)
	}else{
		//상품상세(Mobile)
		if(mbDtlUseYn == "Y"){
			var prodMbDtl = $('#MOBILE_EDIT_AREA').val().replace(/<p>&nbsp;<\/p>/gi,'');
			  $("#m_preview_dtl").html(prodMbDtl)
		}else{
			
		}
	}
	
	if("" != $("#PRE_VIEW_01").attr("src")){
		$("#m_preview_main_img").attr("src",$("#PRE_VIEW_01").attr("src"));
	}
	if("" != $("#PRE_VIEW_20").attr("src")){
		$("#m_preview_thumbnail").html("");
		$("#m_preview_thumbnail").append("<img src=\""+$("#PRE_VIEW_20").attr("src")+"\" alt=\"상품 이미지\" />");
	}
	var imgarr = ['02','03','04','05','06','07']
	$(".owl-carousel").remove();
	$("#carouselDiv").prepend('<div class="owl-carousel" ></div>');
	
	for(var i=0; i<imgarr.length; i++){
		if("" != $("#PRE_VIEW_"+imgarr[i]).attr("src")){
// 			$(".owl-carousel").each(function(){
// 				if($(this).attr("id") == imgarr[i]){
// 					$(this).finde("img").attr("src",$("#PRE_VIEW_"+imgarr[i]).attr("src"));
// 				}else{
					$(".owl-carousel").append("<div class=\"item\" ><img src=\""+$("#PRE_VIEW_"+imgarr[i]).attr("src")+"\" alt=\"상품 이미지\" /></div>")
// 				}
// 			})
		}
	}		
	
	layer_popup3('.m_preview');
		$(".owl-carousel").owlCarousel({
			navigation : true,
			slideSpeed : 300,
			paginationSpeed : 400,
			pagination : false,
			paginationNumbers: false,
			singleItem : true
		});

}
</script>
<!-- 		<textarea name="smarteditor" id="smarteditor" rows="10" cols="100" style="width: 766px; height: 412px; display: none;"></textarea> -->
<!-- 		    <input type="button" id="savebutton" value="서버전송" /> -->
<!-- 		</form> -->
<!-- content -->
<div id="content">

<form id="frm" name="frm" method="post" action="/admin/spprod/insertSPProdREg.do"  enctype="multipart/form-data" >
		<input type="hidden" id="PROD_SHOW_YN" name="PROD_SHOW_YN">
		<input type="hidden" id="PREVIEW_FLAG" name="PREVIEW_FLAG">
		<input type="hidden" id="MOVEFAGE_FLAG" name="MOVEFAGE_FLAG">
		<input type="hidden" id="SHARING_PRICE" name="SHARING_PRICE">
		<input type="hidden" id="INSURANCE_YN" name="INSURANCE_YN">
		<input type="hidden" id="SERVICIZING_YN" name="SERVICIZING_YN">
		<input type="hidden" id="TOTAL_LENG" name="TOTAL_LENG">
		<input type="hidden" id="PRW_IMG" name="PRW_IMG">
	
	
		<!-- top_content -->
		<div class="top_content">
			<!-- location -->
			<div class="location">
				<ul class="clear">
					<li class="first-child"><a href="#">Home</a></li>
					<li><a href="#">스마트폰 셰어링 관리</a></li>
					<li><a href="#" class="current">스마트폰 상품 등록</a></li>
				</ul>
			</div>
			<!-- //location -->
		</div>
		<!-- //top_content -->

		<!-- inner -->
		<div class="inner">
			
			<!-- tbl -->
			<div class="tbl mt10">
				<p class="tbl_tit"><img src="http://static.ssocio.net/admin/images/ico_admin.gif" alt="" />기본정보</p>
				<table class="upd">
					<colgroup>
						<col style="width:15%" />
						<col style="width:35%" />
						<col style="width:15%" />
						<col style="width:35%" />
					</colgroup>
					<tbody>
						<tr>
							<th scope="row" class="bl">제조사</th>
							<td>
								<span class="select" style="width:300px;">
									<span class="sel_txt"></span>
									<select class="comSel" name ="MAKER_SEL" id="MAKER_SEL">
									<option value="">선택</option>
									  <custom:codeList var="selectListMaker" groupCode="SP_MAKER_GB_CD" />
									<c:forEach var="list" items="${selectListMaker}" varStatus="status">
										<option value="${list.key}">${list.value}</option>
									</c:forEach>
									</select>
								</span>
							</td>
										<th scope="row">통신사</th>
							<td>
								<span class="select" style="width:300px;">
									<span class="sel_txt"></span>
									<select id="TEL_SEL" name="TEL_SEL" class="comSel" onchange="telSelfnC(this)">
										<option value="">선택</option>
									<c:forEach var="list" items="${selectListTel}" varStatus="status">
										<option value="${list.TELCOM_CODE}">${list.TELCOM_NM}</option>
									</c:forEach>
									</select>
									
<!-- 									<input id> -->
								</span>
							</td>
						</tr>
						<tr>
							<th scope="row">제품명</th>
							<td>
								<input type="text" id="SPPROD_PROD_NM" name="SPPROD_PROD_NM" value="" style="width:282px" />
							</td>
							<th scope="row" class="bl">모델명</th>
							<td>
								<input type="text" id="SPPROD_MODEL_NM" name="SPPROD_MODEL_NM" value="" style="width:282px" />
							</td>
						</tr>
						<tr>
							<th scope="row">색상</th>
							<td>
								<input type="text" id="SPPROD_COLOR" name="SPPROD_COLOR" value="" style="width:282px" />
								<p><span class="text_bl">* 색상은 , (콤마)로 구분 됩니다.</span></p>
							</td>
							<th scope="row" class="bl">용량</th>
							<td>
								<span class="select" style="width:300px;">
									<span class="sel_txt"></span>
									<select class="comSel" name="SIZE_SEL" id="SIZE_SEL">
										  	<option value="">선택</option>
										  <custom:codeList var="selectListSize" groupCode="SP_SIZE_GB_CD" />
									<c:forEach var="list" items="${selectListSize}" varStatus="status">
										<option value="${list.key}">${list.value}</option>
									</c:forEach>
									</select>
								</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- //tbl -->
			
			<!-- tbl -->
			<div class="tbl mt10">
				<p class="tbl_tit"><img src="http://static.ssocio.net/admin/images/ico_admin.gif" alt="" />상품정보 <span>※ 단말 색상, 용량 변경 시 기존에 재고 일련번호가 등록되어 있을 경우 재고 일련번호 삭제 후 변경이 가능합니다.</span></p>
				
				<table class="upd">
					<colgroup>
						<col style="width:15%" />
					<col style="width:35%" />
					<col style="width:15%" />
					<col style="width:35%" />
					</colgroup>
					<tbody>
						<tr>
							<th scope="row">출고가</th>
						  <td ><input type="text" id="SPPROD_SELL_PRCE"  name="SPPROD_SELL_PRCE" onkeyup="prceChek(this,'noFloat')" onkeydown="prceChek(this,'noFloat')" onblur="Calculation(this);"value="" style="width:200px;text-align: right;" /> 원</td>
							<th scope="row" class="bl">가입유형</th>
						  	<td>
						  	<custom:codeList groupCode="OPEN_TYPE" var="OPEN_TYPE"/>
						  		<span class="select" style="width:293px;">
						  			<span class="sel_txt"></span>
						  			<select id="OPEN_TYPE_SEL" name="OPEN_TYPE_SEL">
						  			  	<c:forEach var="list" items="${OPEN_TYPE}" varStatus="status">
						  				<option value="${list.key}">${list.value}</option>
						  				</c:forEach>
						  			</select>
						  		</span>
						  	</td>
						
						</tr>
						<tr>
							<th scope="row">중고폰 선보상</th>
							<td colspan="3"><input type="text" id="USE_PHONE_PRE_COMPENSATE_PRCE" name="USE_PHONE_PRE_COMPENSATE_PRCE" onkeydown="prceChek(this,'')" onkeyup="prceChek(this,'')"   onblur="Calculation(this);" style="width:150px; text-align: right;" /> 원   / <input type="text" id="USE_PHONE_PRE_COMPENSATE_PRCE_PERCENT" name="USE_PHONE_PRE_COMPENSATE_PRCE_PERCENT"  onblur="Calculation(this);" class="ml20" style="width:150px;text-align: right;" /> % (금액 또는 % 둘 중 하나를 입력하면 출고가 기준으로 자동 계산)</td>
						</tr>
						<tr>
							<th scope="row">구입할인</th>
							<td colspan="3"><input type="text" id="BUY_SALE_PRCE" name="BUY_SALE_PRCE"  onkeyup="prceChek(this,'')" onkeydown="prceChek(this,'')" onblur="Calculation(this);" style="width:150px;text-align: right;" /> 원   / <input type="text" id="BUY_SALE_PRCE_PERCENT" name="BUY_SALE_PRCE_PERCENT"  onblur="Calculation(this);" class="ml20" style="width:150px;text-align: right;" /> % (금액 또는 % 둘 중 하나를 입력하면 출고가 기준으로 자동 계산)</td>
						</tr>
						<tr>
							  <th scope="row">약정기간</th>
							  <td colspan="3">
									<span class="select" style="width:300px;">
									<span class="sel_txt"></span>
									<select id="STIP_SEL" name="STIP_SEL" onchange="getSharingPrce();">
									<option value="">선택</option>
									<c:forEach var="list" items="${selectListPeriod}" varStatus="status">
										<option value="${list.STIP_CODE}">${list.STIP_PERIOD}개월</option>
									</c:forEach>
									</select>
								</span>
							  </td>
						</tr>
						 <tr>
						<th scope="row">보증보험료</th>
						   <td>
<!--                                 <input type='radio' id="show_y" name="" /><label for="show_y">없음</label> -->
<!--                                 <span class="ml10"><input type='radio' id="show_n" name="" /><label for="show_n">있음</label></span> -->
                                <input type="text" id="GUARANTEE_INSURANCE_PRCE" name="GUARANTEE_INSURANCE_PRCE"   onkeyup="prceChek(this,'noFloat')" onkeydown="prceChek(this,'noFloat')"  onblur="getSharingPrce()" style="width:150px; text-align: right;" /> 원
                            </td>
                            <th class="bl">RV보험료</th>
                          <td>
<!--                                 <input type='radio' id="show_y" name="" /><label for="show_y">없음</label> -->
<!--                                 <span class="ml10"><input type='radio' id="show_n" name="" /><label for="show_n">있음</label></span> -->
                                <input type="text" id="RV_INSURANCE_PRCE" name="RV_INSURANCE_PRCE"  onkeyup="prceChek(this,'noFloat')" onkeydown="prceChek(this,'noFloat')" onblur="getSharingPrce()"  style="width:150px;text-align: right;" /> 원
                            </td>
					    </tr>
						<tr>
							<th scope="row">보험료</th>
                          <td id="Insurance_TD">
<!--                                 <input type='radio' id="INSURANCE_RADIO_N" name="" value="N" onclick="radioChk('Insurance_TD',this)" /><label for="INSURANCE_RADIO_N">없음</label> -->
<!--                                 <span class="ml10"><input type='radio' id="INSURANCE_RADIO_Y" value="Y" name="" onclick="radioChk('Insurance_TD',this)"  /><label for="INSURANCE_RADIO_Y">있음</label></span> -->
                                <input type="text" id="INSURANCE_PRCE" name="INSURANCE_PRCE"  onkeyup="prceChek(this,'noFloat')" onkeydown="prceChek(this,'noFloat')"  onblur="getSharingPrce()" style="width:150px;text-align: right;" /> 원
                            </td>
                            <th class="bl">서비사이징<br />(포장/배송비포함)</th>
                           <td id="Servicizing_TD">
<!--                                 <input type='radio' id="SERVICIZING_RADIO_N" name="" value="N" onclick="radioChk('Servicizing_TD',this)"  /><label for="SERVICIZING_RADIO_N">없음</label> -->
<!--                                 <span class="ml10"><input type='radio' id="SERVICIZING_RADIO_Y" value="Y" onclick="radioChk('Servicizing_TD',this)"   name="" /><label for="SERVICIZING_RADIO_Y">있음</label></span> -->
                                <input type="text" id="SERVICIZING_PRCE" name="SERVICIZING_PRCE"   onkeyup="prceChek(this,'noFloat')" onkeydown="prceChek(this,'noFloat')"  onblur="getSharingPrce()"  style="width:150px;text-align: right;" /> 원
                            </td>
					    </tr>
						<tr>
							<th scope="row">셰어링수수료</th>
                          <td><input type="text" id="SHARING_FEE_PRCE_PERCENT" name="SHARING_FEE_PRCE_PERCENT" maxlength="4"   onkeyup="prceChek(this,'ss')"  onkeydown="prceChek(this,'ss')" onblur="getSharingPrce()"  style="width:150px;text-align: right;" /> %</td>
<!--                             <th class="bl">SSOCIO수수료</th> -->
<!--                           <td><input type="text" id="SSOCIO_FEE_PRCE_PERCENT" name="SSOCIO_FEE_PRCE_PERCENT" onblur="getSharingPrce()" class="ml20" style="width:100px;text-align: right;" /> %<input type="text" id="SSOCIO_FEE_PRCE" name="SSOCIO_FEE_PRCE"  readonly="readonly" style="width:100px; border: 0px; text-align: right;" /></td> -->
					    </tr>
					    
					    
<!-- -------------------------------------------------------------이전 버전 ------------------------------------------>
				
<!-- 	--------------------------------------------------------------------------------------------------------------------->					    
					</tbody>
				</table>
				
				<table class="upd">
					<colgroup>
								<col style="width:*">
					<col style="width:14%">
                    <col style="width:14%">
                    <col style="width:10%">
					<col style="width:12%">
					<col style="width:11%">
					<col style="width:10%">
                    <col style="width:10%">
					</colgroup>
                    <thead>
                        <tr>
                   	        <th>요금제</th>
                            <th>판매장려금</th>
                            <th>공시지원금</th>
                            <th>추가 할인</th>
                            <th>이통사 가입신청 URL</th>
                            <th>셰어링 수수료</th>
<!--                             <th>쏘시오 수수료</th> -->
                            <th>월 셰어링 금액</th>
                            <th>추가/삭제</th>
                        </tr>
                    </thead>
                    <tbody id="tbody_tag">
						<tr>
                            <td class="tc">
								<span class="select" style="width:100%;">
									<span class="sel_txt"></span>
									<select class="PAY_SEL" name="PAY_SEL0" id="PAY_SEL0" >
										<option value="">선택</option>
									</select>
								</span>
                            </td>
<!--                             <td class="bl tc"> -->
<!-- 								<span class="select" style="width:100%;"> -->
<!-- 									<span class="sel_txt"></span> -->
<!-- 									<select id="STIP_SEL0" name="STIP_SEL0" onchange="getSharingPrce();"> -->
<!-- 										<option value="">선택</option> -->
<%-- 									<c:forEach var="list" items="${selectListPeriod}" varStatus="status"> --%>
<%-- 										<option value="${list.STIP_CODE}">${list.STIP_PERIOD}</option> --%>
<%-- 									</c:forEach> --%>
<!-- 									</select> -->
<!-- 								</span> -->
<!--                             </td> -->
                            <td class="bl tc"><input type="text" id="SALE_SUPP_PRCE0" name="SALE_SUPP_PRCE0" style="width:60px;text-align: right;" onkeydown="prceChek(this,'')" onkeyup="prceChek(this,'')" onblur="Calculation(this)" /> / 
                            	<input type="text" id="SALE_SUPP_PRCE_PERCENT0" name="SALE_SUPP_PRCE_PERCENT0" style="width:60px; text-align: right;" onblur="Calculation(this)" />% 
                            </td>
                            <td class="bl tc"><input type="text" id="SALE_GSUPP_PRCE0" name="SALE_GSUPP_PRCE0" style="width:60px;text-align: right;" onkeydown="prceChek(this,'')" onkeyup="prceChek(this,'')" onblur="Calculation(this)" /> /
                             <input type="text" id="SALE_GSUPP_PRCE_PERCENT0" name="SALE_GSUPP_PRCE_PERCENT0" style="width:60px; text-align: right;" onblur="Calculation(this)" />%</td>
                            <td class="bl tc"><input type="text" onkeyup="prceChek(this,'noFloat')" onkeydown="prceChek(this,'noFloat')" id="SALE_DISC_PRCE0" name="SALE_DISC_PRCE0" style="width:82px;text-align: right;"  onblur=" Calculation(this)" /> 원</td>
                            <td class="bl tc"><input type="text" id="MOVE_AGENCY_URL0" name="MOVE_AGENCY_URL0" style="width:100px;text-align: right;" /></td>
                            <td class="bl tc"><input type="text" id="SHARING_FEE_PRCE0" name="SHARING_FEE_PRCE0"  style="width:93px; border: 0px; text-align: right;"  readonly="readonly" />원</td>
<!--                             <td class="bl tc"><input type="text" id="SSOCIO_FEE_PRCE0" name="SSOCIO_FEE_PRCE0"  style="width:80px; border: 0px; text-align: right;"  readonly="readonly" />원</td> -->
                            <td class="bl tc"><input type="text" id="SHARING_PRCE0" name="SHARING_PRCE0"  style="width:70px; border: 0px; text-align: right;"  readonly="readonly" />원</td>
                            <td class="bl tc">
             					<a  id="delbtn0" class="btn_b" style="width:60px;" onclick="delTag(this)" >삭제</a> 
             				    <a id="addbtn0" href="javascript:addTag()" class="btn_r mt10" style="width:60px;">추가</a>
                            </td>
						</tr>
						
					</tbody>
				</table>
				<table class="upd">
					<colgroup>
						<col style="width:15%" />
						<col style="width:12%" />
						<col style="width:12%" />
						<col style="width:12%" />
						<col style="width:12%" />
						<col style="width:12%" />
						<col style="width:12%" />
						<col style="width:13%" />
					</colgroup>
					<tbody>
<!-- 						<tr> -->
<!-- 							<th scope="row">셰어링 금액</th> -->
<!-- 							<td colspan="7"> -->
<!-- 								월 <input type="text" id="SHARING_PRICE" name="SHARING_PRICE" value="11111" style="width:200px" /> 원 -->
<!-- 							</td> -->
<!-- 						</tr> -->
						<tr>
							<th scope="row">검색 키워드</th>
							<td colspan="7">
								<input type="text" id="SEARCH_KEWORD" name="SEARCH_KEWORD" style="width:500px" /> <span class="text_bl">* 검색 키워드는 , (콤마)로 구분 됩니다.</span>
							</td>
						</tr>
						<tr id="test2">
							<th scope="row">상품 이미지</th>
							<td class="tc active" id="img_td_1"><a href="javascript:change_tdTag('1')" class="alink">상품 리스트</a><br/><span class="est">[필수]</span></td>
							<td class="bl tc" id="img_td_2"><a href="javascript:change_tdTag('2')" class="alink">대표 이미지</a><br/><span class="est">[필수]</span></td>
							<td class="bl tc" id="img_td_3"><a href="javascript:change_tdTag('3')" class="alink">상품 이미지1</a><br/></td>
							<td class="bl tc" id="img_td_4"><a href="javascript:change_tdTag('4')" class="alink">상품 이미지2</a></td>
							<td class="bl tc" id="img_td_5"><a href="javascript:change_tdTag('5')" class="alink">상품 이미지3</a></td>
							<td class="bl tc" id="img_td_6"><a href="javascript:change_tdTag('6')" class="alink">상품 이미지4</a></td>
							<td class="bl tc" id="img_td_7"><a href="javascript:change_tdTag('7')" class="alink">상품 이미지5</a></td>
						</tr>
						<tr id="test">
							<td colspan="8" class ="IMG_GROUP_1">
								<table class="infoTbl">
									<colgroup>
										<col width="*" />
										<col width="*" />
									</colgroup>
									<thead >
										<tr>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">PC 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_11" name="SP_PROD_IMG_GB_CD_11" class="file_upload" onchange="preView2(this, 'PRE_VIEW_11');" />
												</p>
											</th>
											<th scope="col" class="file_find">
												
												<p>
													<span class="text_bl">모바일 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_01" name="SP_PROD_IMG_GB_CD_01" class="file_upload" onchange="preView2(this, 'PRE_VIEW_01');" />
												</p>
											</th>
										</tr>
									</thead>
									<tbody  >
										<tr class="bg_type">
											<td><span class="text_bl">상품리스트 (640x640)</span></td>
											<td><span class="text_bl">상품리스트 (640x640)</span></td>
										</tr>
										<tr>
											<td style="height:200px" class="tc">
											<div id="viewDiv_11"  class="thumbnail_area">
												<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_11','PRE_VIEW_11')" ><img  id="PRE_VIEW_11" src="" width="300px" height="200px" alt="이미지영역" /></a>
												<a href="javascript:;" class="thumb_del PRE_VIEW_11" data-imgtag-id="PRE_VIEW_11"  data-ipt-id="SP_PROD_IMG_GB_CD_11"  >
														<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
												</a>
											</div>
											</td>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;"  class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_01','PRE_VIEW_01')"><img  id="PRE_VIEW_01" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_01" data-imgtag-id="PRE_VIEW_01"  data-ipt-id="SP_PROD_IMG_GB_CD_01">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td colspan="8" class ="IMG_GROUP_2">
								<table class="infoTbl">
									<colgroup>
										<col width="*" />
										<col width="*" />
									</colgroup>
									<thead >
										<tr>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">PC 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_12" name="SP_PROD_IMG_GB_CD_12" class="file_upload" onchange="preView2(this, 'PRE_VIEW_12');" />
												</p>
											</th>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">모바일 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_02" name="SP_PROD_IMG_GB_CD_02" class="file_upload" onchange="preView2(this, 'PRE_VIEW_02');" />
												</p>
											</th>
										</tr>
									</thead>
									<tbody  >
										<tr class="bg_type">
											<td><span class="text_bl">대표이미지 (640x640)</span></td>
											<td><span class="text_bl">대표이미지 (640x640)</span></td>
										</tr>
										<tr>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
												<a href="javascript:;"  class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_12','PRE_VIEW_12')"><img  id="PRE_VIEW_12" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_12" data-imgtag-id="PRE_VIEW_12"  data-ipt-id="SP_PROD_IMG_GB_CD_12">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_02','PRE_VIEW_02')"><img  id="PRE_VIEW_02" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_02" data-imgtag-id="PRE_VIEW_02"  data-ipt-id="SP_PROD_IMG_GB_CD_02">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td colspan="8" class ="IMG_GROUP_3">
								<table class="infoTbl">
									<colgroup>
										<col width="*" />
										<col width="*" />
									</colgroup>
									<thead >
										<tr>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">PC 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_13" name="SP_PROD_IMG_GB_CD_13" class="file_upload" onchange="preView2(this, 'PRE_VIEW_13');" />
												</p>
											</th>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">모바일 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_03" name="SP_PROD_IMG_GB_CD_03" class="file_upload" onchange="preView2(this, 'PRE_VIEW_03');" />
												</p>
											</th>
										</tr>
									</thead>
									<tbody  >
										<tr class="bg_type">
											<td><span class="text_bl">상품 이미지1 (640x640)</span></td>
											<td><span class="text_bl">상품 이미지1 (640x640)</span></td>
										</tr>
										<tr>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_13','PRE_VIEW_13')"><img  id="PRE_VIEW_13" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_13" data-imgtag-id="PRE_VIEW_13"  data-ipt-id="SP_PROD_IMG_GB_CD_13">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_03','PRE_VIEW_03')"><img  id="PRE_VIEW_03" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_03" data-imgtag-id="PRE_VIEW_03"  data-ipt-id="SP_PROD_IMG_GB_CD_03">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td colspan="8" class ="IMG_GROUP_4">
								<table class="infoTbl">
									<colgroup>
										<col width="*" />
										<col width="*" />
									</colgroup>
									<thead >
										<tr>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">PC 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_14" name="SP_PROD_IMG_GB_CD_14" class="file_upload" onchange="preView2(this, 'PRE_VIEW_14');" />
												</p>
											</th>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">모바일 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_04" name="SP_PROD_IMG_GB_CD_04" class="file_upload" onchange="preView2(this, 'PRE_VIEW_04');" />
												</p>
											</th>
										</tr>
									</thead>
									<tbody  >
										<tr class="bg_type">
											<td><span class="text_bl">상품 이미지2 (640x640)</span></td>
											<td><span class="text_bl">상품 이미지2 (640x640)</span></td>
										</tr>
										<tr>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_14','PRE_VIEW_14')"><img  id="PRE_VIEW_14" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_14" data-imgtag-id="PRE_VIEW_14"  data-ipt-id="SP_PROD_IMG_GB_CD_14">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin"onclick="preViewImg('SP_PROD_IMG_GB_CD_04','PRE_VIEW_04')"><img  id="PRE_VIEW_04" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_04" data-imgtag-id="PRE_VIEW_04"  data-ipt-id="SP_PROD_IMG_GB_CD_04">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td colspan="8" class ="IMG_GROUP_5">
								<table class="infoTbl">
									<colgroup>
										<col width="*" />
										<col width="*" />
									</colgroup>
									<thead >
										<tr>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">PC 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_15" name="SP_PROD_IMG_GB_CD_15" class="file_upload" onchange="preView2(this, 'PRE_VIEW_15');" />
												</p>
											</th>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">모바일 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_05" name="SP_PROD_IMG_GB_CD_05" class="file_upload" onchange="preView2(this, 'PRE_VIEW_05');" />
												</p>
											</th>
										</tr>
									</thead>
									<tbody  >
										<tr class="bg_type">
											<td><span class="text_bl">상품 이미지3 (640x640)</span></td>
											<td><span class="text_bl">상품 이미지3 (640x640)</span></td>
										</tr>
										<tr>
										<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_15','PRE_VIEW_15')"><img  id="PRE_VIEW_15" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_15" data-imgtag-id="PRE_VIEW_15"  data-ipt-id="SP_PROD_IMG_GB_CD_15">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_05','PRE_VIEW_05')"><img  id="PRE_VIEW_05" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_05" data-imgtag-id="PRE_VIEW_05"  data-ipt-id="SP_PROD_IMG_GB_CD_05">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td colspan="8" class ="IMG_GROUP_6">
								<table class="infoTbl">
									<colgroup>
										<col width="*" />
										<col width="*" />
									</colgroup>
									<thead >
										<tr>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">PC 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_16" name="SP_PROD_IMG_GB_CD_16" class="file_upload" onchange="preView2(this, 'PRE_VIEW_16');" />
												</p>
											</th>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">모바일 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_06" name="SP_PROD_IMG_GB_CD_06" class="file_upload" onchange="preView2(this, 'PRE_VIEW_06');" />
												</p>
											</th>
										</tr>
									</thead>
									<tbody  >
										<tr class="bg_type">
											<td><span class="text_bl">상품 이미지4 (640x640)</span></td>
											<td><span class="text_bl">상품 이미지4 (640x640)</span></td>
										</tr>
										<tr>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_16','PRE_VIEW_16')"><img  id="PRE_VIEW_16" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_16" data-imgtag-id="PRE_VIEW_16"  data-ipt-id="SP_PROD_IMG_GB_CD_16">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
											<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_06','PRE_VIEW_06')"><img  id="PRE_VIEW_06" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_06" data-imgtag-id="PRE_VIEW_06"  data-ipt-id="SP_PROD_IMG_GB_CD_06">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td colspan="8" class ="IMG_GROUP_7">
								<table class="infoTbl">
									<colgroup>
										<col width="*" />
										<col width="*" />
									</colgroup>
									<thead >
										<tr>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">PC 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_17" name="SP_PROD_IMG_GB_CD_17" class="file_upload" onchange="preView2(this, 'PRE_VIEW_17');" />
												</p>
											</th>
											<th scope="col" class="file_find">
												<p>
													<span class="text_bl">모바일 상품 이미지</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
													<a href="#" class="btn_w btn_add_img">파일찾기</a>
													<input type="file" id="SP_PROD_IMG_GB_CD_07" name="SP_PROD_IMG_GB_CD_07" class="file_upload" onchange="preView2(this, 'PRE_VIEW_07');" />
												</p>
											</th>
										</tr>
									</thead>
									<tbody  >
										<tr class="bg_type">
											<td><span class="text_bl">상품 이미지5 (640x640)</span></td>
											<td><span class="text_bl">상품 이미지5 (640x640)</span></td>
										</tr>
										<tr>
											<td style="height:200px"  class="tc">
											<div class="thumbnail_area">
												<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_17','PRE_VIEW_17')"><img  id="PRE_VIEW_17" src="" width="300px" height="200px" alt="이미지영역" /></a>
												<a href="javascript:;" class="thumb_del PRE_VIEW_17" data-imgtag-id="PRE_VIEW_17"  data-ipt-id="SP_PROD_IMG_GB_CD_17">
													<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
												</a>
											</div>
											</td>
												<td style="height:200px" class="tc">
												<div class="thumbnail_area">
													<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_07','PRE_VIEW_07')"><img  id="PRE_VIEW_07" src="" width="300px" height="200px" alt="이미지영역" /></a>
													<a href="javascript:;"  class="thumb_del PRE_VIEW_07" data-imgtag-id="PRE_VIEW_07"  data-ipt-id="SP_PROD_IMG_GB_CD_07">
															<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
													</a>
												</div>
												</td>
										</tr>
									</tbody>
								</table>
							</td>
							
						</tr>
						<tr>
							<th scope="row" rowspan="4">상품 상세 정보</th>
							<td colspan="5" class="bg_type">
								<p class="text_bl">PC 상품 상세 설명</p>
							</td>
								<th class="bl">사용여부  </th>
							<td><input type="radio" id="pcDtlUseYn1" name="pcDtlUseYn" checked="checked" value="Y"/><label for="">Y</label> <input type="radio" class="ml20" id="pcDtlUseYn2" name="pcDtlUseYn"  value="N"/><label for="">N</label></td>
						</tr>
						<tr>
							<td colspan="7">
								<div class="edit_area">
									<textarea style="width:100%;" name="PC_EDIT_AREA" id="PC_EDIT_AREA" ></textarea>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="5" class="bg_type">
								<p class="text_bl">모바일 상품 상세 설명
								<input type="hidden" id="PROD_DESC_OPT" name="PROD_DESC_OPT" > 
								
							</td>
							<th class="bl">사용여부 </th>
							<td><input type="radio" id="mbDtlUseYn1" name="mbDtlUseYn"  value="Y" /><label for="">Y</label> <input type="radio" class="ml20" id="mbDtlUseYn2" name="mbDtlUseYn"  value="N" checked="checked"/><label for="">N</label></td>
						</tr>
						<tr>
							<td colspan="7">
								<div class="edit_area">
									<textarea style="width:100%;" name="MOBILE_EDIT_AREA" id="MOBILE_EDIT_AREA" ></textarea>
								</div>
							</td>
						</tr>
						<tr>
							<th scope="row" rowspan="2">모바일용<br/>상품상세<br/>썸네일 이미지</th>
							<td colspan="7" class="bg_type file_find">
								<p>
									<span class="text_bl ml0">모바일 상품상세 썸네일</span><span>(jpg, png 파일 확장자만 등록 가능 합니다)</span>
									<a href="#" class="btn_w btn_add_img">파일찾기</a>
									<input type="file" id="SP_PROD_IMG_GB_CD_20" name="SP_PROD_IMG_GB_CD_20" class="file_upload" onchange="preView2(this, 'PRE_VIEW_20');"/>
								</p>
							</td>
						</tr>
						<tr>
							<td style="height:200px" class="tc">
							<div class="thumbnail_area">
								<a href="javascript:;" class="btn_origin" onclick="preViewImg('SP_PROD_IMG_GB_CD_20','PRE_VIEW_20')"><img  id="PRE_VIEW_20" src="" width="300px" height="200px" alt="이미지영역" /></a>
								<a href="javascript:;"  class="thumb_del PRE_VIEW_20" data-imgtag-id="PRE_VIEW_20"  data-ipt-id="SP_PROD_IMG_GB_CD_20">
										<img src="http://static.ssocio.net/admin/images/btn_img_delete.png" alt="이미지삭제">
								</a>
							</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- //tbl -->
		</div>
		
			<div  class="bot_btn tc mt20">
				<a  id="" href="javascript:insertSPProd('INS')" class="btn_r">등록</a>
				<a href="javascript:goBack()" class="btn_g2 ml10">취소</a>
				<a  id="" href="javascript:preViewfnc()" class="btn_r ml10">미리보기</a>
			</div>
		<!-- //inner -->
	</form>

	</div>
	<!-- //content -->
<form name="movefrm" id="movefrm" method="post">
</form>
<!-- 미리보기팝업 -->
<form name="previewPopupForm" id="previewPopupForm" method="post">
	<input type="hidden" id="PROD_CODE" name="PROD_CODE">
</form>
	<div id="previewImgDiv" class="lay_pop w_preview" style="width:640px;height:640px;" >
		<!-- pop_header -->
		<div class="pop_header">
			<h2>미리보기</h2>
			<a href="#" class="btn_close"><img src="http://static.ssocio.net/admin/images/btn_layer_close.gif" alt="close" /></a>
		</div>
		<!-- //pop_header -->
		
		<!-- pop_con -->
		<div class="pop_con">
			<div class="layer_preview_area">
				<img id="previewImgtag" src="http://static.ssocio.net/admin/images/img_dummy.png" alt="상품이미지" />
			</div>
		</div>
		<!-- //pop_con -->
	</div>
	
	
	<!-- 미리보기 팝업 -->
	<div class="lay_pop m_preview" style="width:1012px;height:580px;">
		<!-- pop_header -->
		<div class="pop_header">
			<h2>미리보기</h2>
			<a href="#" class="btn_close"><img src="http://static.ssocio.net/admin/images/btn_layer_close.gif" alt="close" /></a>
		</div>
		<!-- //pop_header -->
		
		<!-- pop_con -->
		<div class="pop_con">
			<div class="pop-img_rea">
				<!-- 상품리스트 페이지 -->
			    <div class="preview_bx">
			    	<p class="pre_tit">상품리스트 페이지</p>
			    	<div class="prod-info">
			    		<div>
			    			<img id="m_preview_main_img"  src="" alt="상품 이미지" />
			    		</div>
			    		<p class="prod-name" id="m_preview_prodNm_1"></p>
			    		<p class="prod-price">
			    			<span id="m_preview_prce_1"></span> <span class="day" id="m_preview_period_1"></span>
			    		</p>
			    	</div>
			    </div>
			    <!-- //상품리스트 페이지 -->
			    
			    <!-- 상품상세 페이지 -->
			    <div class="preview_bx type">
			    	<p class="pre_tit">상품상세 페이지</p>
			    	<div class="prod-info" id="carouselDiv">
			    		
<!-- 			    		<div class="owl-carousel" > -->
<!-- 					        <div class="item"><img src="http://static.ssocio.net/admin/images/img_dummy.png" alt="상품 이미지" /></div> -->
<!-- 					        <div class="item"><img src="http://static.ssocio.net/admin/images/img_dummy.png" alt="상품 이미지" /></div> -->
<!-- 					        <div class="item"><img src="http://static.ssocio.net/admin/images/img_dummy.png" alt="상품 이미지" /></div>  -->
<!-- 					    </div>  -->
			    		<p class="prod-name exception" id="m_preview_prodNm_2">			    		<p class="prod-price exception">
			    			<span id="m_preview_prce_2" class="exception"></span> <span class="day exception"   id="m_preview_period_2"> </span>
			    		</p> 
			    		<div id="m_preview_thumbnail" class="thumbnail exception">
<!-- 			    			<img src="../resources/admin/images/img_dummy.gif" alt="상품 이미지" /> -->
			    		</div>
			    		
			    	</div>
			    </div>
			    <!-- //상품상세 페이지 -->
			    
			    <!-- 상품 상세 정보 페이지 -->
			    <div class="preview_bx type2">
			    	<p class="pre_tit">상품 상세 정보 페이지</p>
			    	<div class="prod-info">
			    		<div id="m_preview_dtl">
<!-- 			    			<img src="../resources/admin/images/img_dummy.png" alt="상품 이미지" /> -->
			    		</div>
			    	</div>
			    </div>
			    <!-- //상품 상세 정보 페이지 -->
			</div>
		</div>
		<!-- //pop_con -->
	</div>
	<!-- //미리보기 팝업 -->
	
	